$(document).ready(function(){function t(){function t(){for(var t=$(".carousel .carousel-inner"),e=$(".carousel .item"),o=0,i=0;i<e.length;i++)o<$(e[i]).height()&&(o=$(e[i]).height());t.height(o+"px")}console.log("preparing my carousel...");var e=$("img[preload-src]").map(function(e,o){var i=$.Deferred(),n=$(o),r=new Image;return r.onload=function(){n.attr("src",r.src),t(),i.resolve(e)},r.src=n.attr("preload-src"),i});$.when.apply(null,e.get()).then(function(){});var o=$(".carousel .carousel-inner");o.height(o.height()+"px"),$(".carousel .item").each(function(){var t=$(this);t.css("width",t.closest(".carousel").width()+"px").css("float","left").css("position","absolute")}),$(".carousel .nav-bar .prev").click(function(){if(!i){i=!0;var t=$(this).closest(".carousel"),e=t.find(".item.active"),o=e.prev(".item");o.addClass("active").css("margin-left","-100%"),o.length<=0&&(o=t.find(".item").last(),o.addClass("active").css("margin-left","-200%")),e.animate({"margin-left":"100%"},function(){e.removeClass("active"),e.css("margin-left",0),o.animate({"margin-left":0},function(){i=!1})})}});var i=!1;$(".carousel .nav-bar .next").click(function(){if(!i){i=!0;var t=$(this).closest(".carousel"),e=t.find(".item.active"),o=e.next(".item");o.length<=0&&(o=t.find(".item:first-child")),o.addClass("active").css("margin-left","100%"),e.animate({"margin-left":"-100%"},function(){e.removeClass("active"),e.css("margin-left",0),o.animate({"margin-left":0},function(){i=!1})})}})}t(),$(document).on("pjax/done",function(){setTimeout(t,100)})}),!function(){function t(t,e){$(t).children().each(function(){var t=$(this);t.attr("data-group")&&t.attr("data-group")!==e?t.hide():t.show()})}$(document).on("show_content",function(e,o,i){t(".group-description",i),t(".carousel-items",i),t(".services",i)})}(),$(document).ready(function(){function t(){$(".mask .text").each(function(){function t(){e.css("width",o[0].width+"px"),e.css("min-height",o[0].height+"px")}var e=$(this),o=e.next(".image");t(),o.load(t)}),$(".mask .close.button").click(function(){var t=$(this).closest(".mask");t.hide();var e=t.find("video");e.length&&e[0].pause()}),$(".mask").css("background-color","rgba(0, 0, 0, 0.4)").css("padding-left",0).hide(),$(".mask.darker").css("background-color","rgba(0, 0, 0, 0.8)"),console.log("hided modals: ",$(".mask").length),$("[data-modal-selector]").on("click",function(t){var e=$(this),o=e.attr("data-modal-selector"),i=$(o);i.css("display","flex"),t.stopPropagation()}),console.log("modals prepared.")}t(),$(document).on("pjax/done",function(){setTimeout(t,100)}),window.modals={prepare:t}});var vmvideos=[{author:"yasudatakahiro",title:'"COPY" Official Videoclip',thumb:"http://i.vimeocdn.com/video/291709093_200x150.jpg",url:"http://vimeo.com/17902560"},{author:"Ground's Oranges",title:"Prefunerale Luigi Virgillito",thumb:"http://i.vimeocdn.com/video/447164694_200x150.jpg",url:"http://vimeo.com/73141804"},{author:"Mr. Kaplin",title:'Official Release: Toob "Wavaphon" Music Video',thumb:"http://i.vimeocdn.com/video/281268872_200x150.jpg",url:"http://vimeo.com/40648169"},{author:"BKWLD",title:"BKWLD in a matter of seconds",thumb:"http://i.vimeocdn.com/video/245832886_200x150.jpg",url:"http://vimeo.com/24933302"},{author:"dunun",title:"amalgamation",thumb:"http://i.vimeocdn.com/video/218886754_200x150.jpg",url:"http://vimeo.com/32351411"},{author:"Nexus",title:"Avocado Go Green",thumb:"http://i.vimeocdn.com/video/454456291_200x150.jpg",url:"http://vimeo.com/78830727"},{author:"Trunk Animation",title:'Major Lazer- "Keep It Goin Louder"',thumb:"http://i.vimeocdn.com/video/310360546_200x150.jpg",url:"http://vimeo.com/6793510"},{author:"Chris Harmon",title:"Oil'd",thumb:"http://i.vimeocdn.com/video/146641111_200x150.jpg",url:"http://vimeo.com/22655744"},{author:"Bet She'an Team",title:"Bet She'an",thumb:"http://i.vimeocdn.com/video/451945429_200x150.jpg",url:"http://vimeo.com/76920679"},{author:"Louis Paquet",title:"Forrest Gump by Wes Anderson",thumb:"http://i.vimeocdn.com/video/472143478_200x150.jpg",url:"http://vimeo.com/92419083"},{author:"2veinte",title:"For Agile Films by 2veinte",thumb:"http://i.vimeocdn.com/video/472472892_200x150.jpg",url:"http://vimeo.com/92679978"},{author:"CypherAudio",title:"Hershey's - 'Happiness Is...'",thumb:"http://i.vimeocdn.com/video/27938399_200x150.jpg",url:"http://vimeo.com/6909738"},{author:"beeple",title:"instrumental video nine",thumb:"http://i.vimeocdn.com/video/453513252_200x150.jpg",url:"http://vimeo.com/9800754"},{author:"Jean Barnezet",title:"Ed bangers Vol 2",thumb:"http://i.vimeocdn.com/video/53821679_200x150.jpg",url:"http://vimeo.com/935862"},{author:"Moop Jaw",title:"Qua - Goodmorning Sun music video (Directed by Antuong Nguyen)",thumb:"http://i.vimeocdn.com/video/17354912_200x150.jpg",url:"http://vimeo.com/5375940"},{author:"Takuya Hosogane",title:"Takuya Hosogane MotionReel 2011",thumb:"http://i.vimeocdn.com/video/135868475_200x150.jpg",url:"http://vimeo.com/21151968"},{author:"James Curran",title:"The Adventures of Tintin",thumb:"http://i.vimeocdn.com/video/204191730_200x150.jpg",url:"http://vimeo.com/30402976"},{author:"johan rijpma",title:"Tape Generations",thumb:"http://i.vimeocdn.com/video/192629425_200x150.jpg",url:"http://vimeo.com/28826269"},{author:"Royale",title:"Oreo Wonderfilled",thumb:"http://i.vimeocdn.com/video/437477845_200x150.jpg",url:"http://vimeo.com/66116612"},{author:"Tomas Nilsson",title:"Slagsmålsklubben - Sponsored by destiny",thumb:"http://i.vimeocdn.com/video/3773075_200x150.jpg",url:"http://vimeo.com/3514904"},{author:"Mothlight Creative",title:"Motion Design Reel",thumb:"http://i.vimeocdn.com/video/21020441_200x150.jpg",url:"http://vimeo.com/2354896"},{author:"Jr.canest",title:"Resonance: The Interpreter's House",thumb:"http://i.vimeocdn.com/video/165696168_200x150.jpg",url:"http://vimeo.com/25181651"},{author:"Hardy Seiler",title:"Where things come from",thumb:"http://i.vimeocdn.com/video/279551535_200x150.jpg",url:"http://vimeo.com/40459347"},{author:"rich nosworthy",title:"Unified",thumb:"http://i.vimeocdn.com/video/440983567_200x150.jpg",url:"http://vimeo.com/68596504"},{author:"Onesize",title:"FITC Amsterdam 2013 titles.",thumb:"http://i.vimeocdn.com/video/416466859_200x150.jpg",url:"http://vimeo.com/59892998"},{author:"THE CREATIVE INFLUENCE",title:"Jessica Walsh & Stefan Sagmeister _ The Creative Influence: Ep. 2",thumb:"http://i.vimeocdn.com/video/458287788_200x150.jpg",url:"http://vimeo.com/58575990"},{author:"Ian Albinson",title:"A Brief History of Title Design",thumb:"http://i.vimeocdn.com/video/317160247_200x150.jpg",url:"http://vimeo.com/20759580"},{author:"Fraser Davidson",title:"Bill Maher - Irritable Bowl Syndrome",thumb:"http://i.vimeocdn.com/video/439126226_200x150.jpg",url:"http://vimeo.com/35003246"},{author:"rob kent",title:"casino royale intro 720p",thumb:"http://i.vimeocdn.com/video/430824864_200x150.jpg",url:"http://vimeo.com/61960054"},{author:"Danil Krivoruchko",title:"Intel Fashion show | Intro loop",thumb:"http://i.vimeocdn.com/video/168467700_200x150.jpg",url:"http://vimeo.com/25573104"},{author:"Mr OIZO / Q.DUPIEUX",title:"OIZO MOUSTACHE SPECIAL ANNOUNCEMENT",thumb:"http://i.vimeocdn.com/video/109481237_200x150.jpg",url:"http://vimeo.com/17583401"},{author:"Animography",title:"Isotype - Animated Typeface",thumb:"http://i.vimeocdn.com/video/445957950_200x150.jpg",url:"http://vimeo.com/71962920"},{author:"Yannick Jacquet (Legoman)",title:"Mécaniques Discursives [work in progress] 2",thumb:"http://i.vimeocdn.com/video/268346538_200x150.jpg",url:"http://vimeo.com/38945809"},{author:"Tektosag Records",title:"Blawan - Fram (Video Edit)",thumb:"http://i.vimeocdn.com/video/75218953_200x150.jpg",url:"http://vimeo.com/13177771"},{author:"Fabricio Lima",title:"30 things at 30",thumb:"http://i.vimeocdn.com/video/432436026_200x150.jpg",url:"http://vimeo.com/62509176"},{author:"SoLab",title:"Hermès x Man on the Move by Romain Laurent",thumb:"http://i.vimeocdn.com/video/472009665_200x150.jpg",url:"http://vimeo.com/91405458"},{author:"Buck",title:"Umbro Blackout",thumb:"http://i.vimeocdn.com/video/174298706_200x150.jpg",url:"http://vimeo.com/26397024"},{author:"Neal Coghlan",title:"BIRDMASK Visuals",thumb:"http://i.vimeocdn.com/video/348590012_200x150.jpg",url:"http://vimeo.com/50071433"},{author:"Machine Molle",title:"ROYKSOPP / Remind Me / Music Video (2002)",thumb:"http://i.vimeocdn.com/video/204044099_200x150.jpg",url:"http://vimeo.com/30372022"},{author:"POCKO",title:"BEN PEARCE - TED Metaphors Excerpt 1",thumb:"http://i.vimeocdn.com/video/437584087_200x150.jpg",url:"http://vimeo.com/66253104"},{author:"finally.",title:"Understand Music",thumb:"http://i.vimeocdn.com/video/380549046_200x150.jpg",url:"http://vimeo.com/54763818"},{author:"dlew",title:"Flying Lotus - Tiny Tortures",thumb:"http://i.vimeocdn.com/video/377516992_200x150.jpg",url:"http://vimeo.com/54585743"},{author:"Berkanism",title:"NATURAL FIGHT (Find Perfect Shape)",thumb:"http://i.vimeocdn.com/video/286755621_200x150.jpg",url:"http://vimeo.com/41405220"},{author:"Sunday Paper",title:"Light",thumb:"http://i.vimeocdn.com/video/191510392_200x150.jpg",url:"http://vimeo.com/28685926"},{author:"weareflink",title:"Volkswagen - People's Car Project - Parking",thumb:"http://i.vimeocdn.com/video/196212132_200x150.jpg",url:"http://vimeo.com/29308144"},{author:"Giant Ant",title:"WIRED // What's Inside: Play-Doh (Director's Cut)",thumb:"http://i.vimeocdn.com/video/445546104_200x150.jpg",url:"http://vimeo.com/71841985"},{author:"Golden Wolf",title:"Adidas - #ALLINFORMURRAY",thumb:"http://i.vimeocdn.com/video/445698928_200x150.jpg",url:"http://vimeo.com/71976695"},{author:"A N F",title:"Egyptrixx - Start from the Beginning",thumb:"http://i.vimeocdn.com/video/259770961_200x150.jpg",url:"http://vimeo.com/16660444"},{author:"Plenty",title:"HBO Latinoamerica - Reel",thumb:"http://i.vimeocdn.com/video/450870325_200x150.jpg",url:"http://vimeo.com/76084225"},{author:"malika favre",title:"TOTO Perfect Day",thumb:"http://i.vimeocdn.com/video/437778164_200x150.jpg",url:"http://vimeo.com/66386720"}],additionInfo=[[{url:"/bower/bridgeplus_ui/public/images/CORPORATE_PG.png",width:460,height:102,x:600,y:120},{url:"/bower/bridgeplus_ui/public/images/CORPORATE.png",width:123,height:41,x:739,y:220}],[{url:"/bower/bridgeplus_ui/public/images/MENTOR_PG.png",width:245,height:183,x:677.5,y:110},{url:"/bower/bridgeplus_ui/public/images/MENTOR.png",width:123,height:41,x:739,y:290}],[{url:"/bower/bridgeplus_ui/public/images/STUDENT_PG.png",width:446,height:207,x:620,y:200},{url:"/bower/bridgeplus_ui/public/images/STUDENT.png",width:123,height:41,x:739,y:360}]];$(function(){function t(){u.currentW=$(window).width(),u.currentH=$(window).height(),a=.5*u.currentW,c=.5*u.currentH}function e(){u.currentH/780}function o(t){var e=[];return t.classList&&"function"==typeof t.classList.forEach?t.classList.forEach(function(t){e.push(t)}):e=(t.getAttribute("class")||"").split(" "),e}function i(){var t=Math.max(document.documentElement.clientHeight,window.innerHeight||0);console.log(t);var e=$(".to-top").outerHeight();console.log(e);var o=$("#footer").outerHeight();console.log(o);var i=t-e-o;console.log(i),$("#index-footer").parent().height(i)}function n(){$(".owl-carousel").owlCarousel({items:1,lazyLoad:!0,loop:!0,autoplayTimeout:8e3,autoplayHoverPause:!0,nav:!0,navRewind:!0,smartSpeed:500,navText:['<i class="" style="font-family: cursive;">&lt;</i>','<i class="" style="font-family: cursive;">&gt;</i>'],autoHeight:!0})}function r(){i(),setTimeout(n,500)}var a,c,u={currentW:0,currentH:0};!function(){function t(){function t(){var e=n.clone().attr({r:r,opacity:0,fill:"none","stroke-width":1});return e.attr({opacity:1}).animate({r:r+10,"stroke-width":41,stroke:"#FFF"},1e3,">",function(){}),r+=40,a+150>r?void setTimeout(t,50):($("#logo").addClass("active"),$(".logo_top").addClass("active"),void setTimeout(function(){BridgeWheel.start()},500))}var e=this.intro=new Raphael("bridge_plus_intro",u.currentW,u.currentH),i=e.path("M 0,"+u.currentH+" L 0,"+u.currentH).attr({fill:"#E71E30",stroke:"#E71E30","stroke-width":4}),n=e.circle(a,c,0).attr({fill:"#111",stroke:"#111"});i.animate({path:"M 0,"+u.currentH+" L "+a+","+c},1e3,">",function(){o.arcouno(),i.animate({path:"M "+a+","+c+"L "+a+","+c},1e3,">",function(){}),n.animate({r:"72"},1800,">",function(){}),setTimeout(t,1100)});var r=0}function e(){var t=o.intro.path(o.arc([a,c],120,120,320)).attr({stroke:"#111","stroke-width":1});t.attr({transform:"r0,"+a+","+c}).animate({transform:"r360,"+a+","+c},4e3)}var o=window.INTRO={intro:null,init:t,arcouno:e,arc:function(t,e,o,i){for(var n=o,r=this.toCoords(t,e,n),a="M "+r[0]+" "+r[1];i>=n;)r=this.toCoords(t,e,n),a+=" L "+r[0]+" "+r[1],n++;return a},toCoords:function(t,e,o){var i=o/180*Math.PI,n=t[0]+Math.cos(i)*e,r=t[1]+Math.sin(i)*e;return[n,r]}}}(),function(){var t=window.BridgeWheel={first:!0,sourceArr:[],imgAll:[],init:function(){INTRO.init()},evHandlers:function(){},start:function(){t.resize();var e=new Raphael("bridge_plus_wheel",2e3,1e3);e.wheel(440,vmvideos.slice(32,51),2,vmvideos,[],additionInfo)},resize:e}}(),$(window).on("resize",function(){t(),BridgeWheel.resize()});var h=$(".wheel_text"),l=$(".main_page_wheel"),m=$(".main_page_bottom"),s=$(".main_page_right");$(document).on("wheel/show",function(){$(".svg_group").hover(function(){$(document).trigger("show_group_desc",o(this))},function(){$(document).trigger("hide_group_desc",o(this))}).on("click",function(){var t,e=o(this);e.indexOf("svg_group_0")>=0&&(t="/portal/zh/student-portal"),e.indexOf("svg_group_1")>=0&&(t="/portal/zh/mentor-portal"),e.indexOf("svg_group_2")>=0&&(t="/portal/zh/hr-portal"),$(document).trigger("navigate",t)})}).on("click",".logo_right",function(){$(document).trigger("show_right")}).on("show_group_desc",function(t,e,o){h.hide().each(function(){$(this).hasClass(o)&&$(this).show()})}).on("hide_group_desc",function(t,e,o){h.each(function(){$(this).hasClass(o)&&$(this).hide()})}).on("show_wheel",function(){l.animate({top:0,left:0},500),m.animate({top:"100%",left:0},500),s.animate({left:"100%"},500)}).on("show_content",function(){l.animate({top:"-100%",left:0},500),m.animate({top:0,left:0},500),s.animate({left:"100%"},500),r()}).on("show_right",function(){l.animate({left:"-100%"},500),m.animate({left:"-100%"},500),s.animate({left:0},500)}).on("pjax/done",document,function(){$(document).trigger("show_content",null),"function"==typeof n&&setTimeout(n,100),"function"==typeof modals.prepare&&setTimeout(modals.prepare,100)}),t(),BridgeWheel.init(),BridgeWheel.evHandlers(),$(document).on("resize",r),0===location.pathname.indexOf("/portal/")&&$(document).trigger("show_content")}),$(document).ready(function(){var t=!1;$(".menu-button").click(function(){t?$(".menu").removeClass("active"):$(".menu").addClass("active"),t=!t}),$(document).on("show_right",function(){$("#pic-entrance").addClass("active")}).on("show_wheel",function(){$("#pic-entrance").removeClass("active")}).on("click",".left-arrow",function(){$(document).trigger("show_wheel")})}),!function(){function t(t,e,o,i,n){if(s.indexOf(t)>=0&&s.indexOf(e)>=0)return i;var r=m.indexOf(t),a=m.indexOf(e);return 0>r||0>a||r===a?o:a>r?i:n}function e(t){t.css({position:"absolute",left:"100%",right:"-100%"})}function o(t){t.animate({left:"-100%",right:"100%"},"slow",function(){t.remove()})}function i(t){return t.animate({left:"0",right:"0"},"slow",function(){t.css("position","relative")}).promise()}function n(t){t.css({position:"absolute",left:"-100%",right:"100%"})}function r(t){t.animate({left:"100%",right:"-100%"},"slow",function(){t.remove()})}function a(t,e){var o=document.createElement("div");o.innerHTML=t.innerHTML;var i=$(o),n=$(t);i.css({position:"absolute",left:"0",right:"0"}),i.insertBefore(n),e&&e(i,n)}function c(){$("#footer").css("position","fixed")}function u(){$("#footer").css("position","relative")}function h(t,n){c(),e(t),o(n),i(t).done(u)}function l(t,e){c(),n(t),r(e),i(t).done(u)}var m=["/portal/zh/about-us","/portal/zh/team","/portal/zh/video","/portal/zh/contact-us","/portal/zh/join-us"],s=["/portal/zh/student-portal","/portal/zh/mentor-portal","/portal/zh/hr-portal"];window.animationDirector={returnToOriginalPos:i,cloneOldSlide:a,getAnimation:t,slideToLeft:h,slideToRight:l}}(),$(function(){function t(t){p.push(t),p.length>5&&p.shift()}function e(t){v.push(t),v.length>5&&v.shift()}function o(t){f.push(t),f.length>5&&f.shift()}function i(t,e,o){r(e,o,function(){m.classList.add("hide"),setTimeout(function(){m.innerHTML=t,m.classList.remove("hide")},100)})}function n(){m=m||document.querySelector(".body"),s=s||document.querySelector("title")}function r(t,e,o){$(document).trigger("pjax/refresh"),n(),o(),c(e,t),$(document).trigger("pjax/done"),console.log("pjax/done")}function a(t,e,o){r(e,o,function(){animationDirector.cloneOldSlide(m,function(e,o){m.innerHTML=t,animationDirector.slideToLeft(o,e)})})}function c(t,e){Object.keys(t).forEach(function(e){m.setAttribute("data-"+e,t[e])}),s&&(s.innerHTML=e)}function u(t,e,o){r(e,o,function(){animationDirector.cloneOldSlide(m,function(e,o){m.innerHTML=t,g(o,e)})})}function h(t){for(var e={},o=t.length-1;o>=0;o--){var i=t[o];0==i.name.indexOf("data-")&&(e[i.name.slice(5)]=i.value)}return e}function l(n,r,a,c){$(document).trigger("pjax/start"),$.get(n,function(u){m=m||document.querySelector(".body"),s=s||document.querySelector("title"),d.innerHTML=u,a&&(history.pushState(n,"",n),t(m.innerHTML),e(h(m.attributes)),s&&o(s.innerHTML));var l=d.querySelector(".body"),p=d.querySelector("title");(c=c||i)(l.innerHTML,p&&p.innerHTML,h(l.attributes),r)})}var m,s,d=document.createElement("DIV"),p=[],v=[],f=[];document.addEventListener("click",function(t){if("A"!==t.target.nodeName)return!0;var e=location,o=t.target,n=o.href?o.href.toLowerCase():"";return"false"!==o.getAttribute("use-pjax")&&n.length&&"#"!=n.charAt(0)&&0!=n.indexOf("mailto:")&&0!=n.indexOf("javascript:")?(t.preventDefault(),t.stopPropagation(),"/"===o.pathname?($(document).trigger("show_wheel"),history.pushState("/","","/"),!1):void l(n,o,!0,animationDirector.getAnimation(e.pathname,o.pathname,i,a,u))):!0},!1),window.addEventListener("popstate",function(){return p&&p.length?void i(p.pop(),f.pop(),v.pop()):void l(location.href)}),$(document).on("navigate",function(t,e){l(e,null,!0)});var g=animationDirector.slideToRight}),Raphael.fn.group=function(t,e){var o=document.createElementNS("http://www.w3.org/2000/svg","g");if(o.style&&(o.style.webkitTapHighlightColor="rgba(0,0,0,0)"),o.classList)o.classList.add("svg_group"),o.classList.add(e);else{var i=(o.getAttribute("class")||"").split(" "),n=!1;-1==i.indexOf("svg_group")&&(i.push("svg_group"),n=!0),-1==i.indexOf(e)&&(i.push(e),n=!0),n&&o.setAttribute("class",i.join(" "))}if(t)for(var r=0,a=t.length;a>r;r++)o.appendChild(t[r].node);return this.canvas.appendChild(o),o},Raphael.fn.wheel=function(t,e,o,i,n,r){function a(){var t=p.image(this.src,690,_,x,y).attr({opacity:0});t.node.id=this.id,g.push(t),++f==v&&l()}function c(){var t=p.image("http://vlog.it/img/placeholder.jpg",690,_,x,y).attr({opacity:0});t.node.id=this.id,g.push(t),++f==v&&l()}function u(t,e){var o="M,800,500,L,862.3735072453278,206.5557197798583,A,300,300,0,0,0,737.6264927546722,206.5557197798583,z",i="M,800,500,L,844.8707740637095,274.419385507257,A,230,230,0,0,0,755.1292259362905,274.419385507257,z",n="M,800,500,L,835.6033494330103,344.0115340509082,A,160,160,0,0,0,764.3966505669897,344.0115340509082,z",r=[p.path(n).attr({stroke:"none"}),p.path(i).attr({stroke:"none"}),p.path(o).attr({stroke:"none"})],a=document.createElementNS(w,"clipPath");a.setAttribute("id","clip_ring"+t),a.appendChild(r[t].node),p.canvas.appendChild(a),e.forEach(function(e,o){var i=b*o;e.rotate(i,800,500),e.node.setAttribute("clip-path","url(#clip_ring"+t+")"),e.node.style.cursor="pointer",e.attr({opacity:0}),h(e,b,o)})}function h(t,e,o){t.attr({transform:"r"+e*o+",800,500t0,140"})}function l(){var t=[];r[r.length-(o+1)].forEach(function(e){var o=p.image(e.url,e.x,e.y,e.width,e.height).attr({opacity:1});o.node.classList.add("svg_group_addtion"),t.push(o)});var a;switch(o){case 2:a=300;break;case 1:a=230;break;case 0:a=160}var c=(a-100)/a;c=(100*c|0)/100;var h=p.circle(800,500,a).attr({fill:"#000",stroke:"none"});h.node.style.transform="scale("+c+","+c+")",p.group([t[0]].concat(g,h,t[1]),"svg_group_"+o),u(o,g),n.push(g),2==o?p.wheel(340,i.slice(15,31),1,e,n,r):1==o?p.wheel(240,i.slice(0,14),0,e,n,r):(m(),$(document).trigger("wheel/show"))}function m(){var t=360/14,e=n[2],o=e.length;e.forEach(function(i,n){n==o-1?i.attr({opacity:1}).animate({transform:"r"+t*n+",800,500t0,0"},1e3,"<>",function(){s(),e.forEach(function(e,o){e.animate({transform:"r"+(360+t*o)+",800,500"},3e4)})}):i.attr({opacity:1}).animate({transform:"r"+t*n+",800,500t0,0"},1e3,"<>",function(){})})}function s(){var t=22.5,e=n[1],o=e.length;e.forEach(function(i,n){n==o-1?i.attr({opacity:1}).animate({transform:"r"+t*n+",800,500t0,0"},1e3,"<>",function(){d(),e.forEach(function(e,o){e.animate({transform:"r"+(-360+t*o)+",800,500"},3e4)})}):i.attr({opacity:1}).animate({transform:"r"+t*n+",800,500t0,0"},1e3,"<>",function(){})})}function d(){var t=n[0],e=t.length,o=20;t.forEach(function(i,n){n==e-1?i.attr({opacity:1}).animate({transform:"r"+o*n+",800,500t0,0"},1e3,"<",function(){t.forEach(function(t,e){t.animate({transform:"r"+(360+o*e)+",800,500"},3e4)})}):i.attr({opacity:1}).animate({transform:"r"+o*n+",800,500t0,0"},1e3,"<",function(){})})}var p=this,v=e.length,f=0,g=[],b=360/v,_=340-70*o,w="http://www.w3.org/2000/svg",x=210,y=100;e.forEach(function(t){var e=new Image;e.onload=a,e.onerror=c,e.src=t.thumb,e.id=t.url,e.title=t.title,e.author=t.author})};
$(document).ready(function(){function e(){function e(){for(var e=$(".carousel .carousel-inner"),t=$(".carousel .item"),a=0,i=0;i<t.length;i++)a<$(t[i]).height()&&(a=$(t[i]).height());e.height(a+"px")}console.log("preparing my carousel...");var t=$("img[preload-src]").map(function(t,a){var i=$.Deferred(),n=$(a),s=new Image;return s.onload=function(){n.attr("src",s.src),e(),i.resolve(t)},s.src=n.attr("preload-src"),i});$.when.apply(null,t.get()).then(function(){});var a=$(".carousel .carousel-inner");a.height(a.height()+"px"),$(".carousel .item").each(function(){var e=$(this);e.css("width",e.closest(".carousel").width()+"px").css("float","left").css("position","absolute")}),$(".carousel .nav-bar .prev").click(function(){if(!i){i=!0;var e=$(this).closest(".carousel"),t=e.find(".item.active"),a=t.prev(".item");a.addClass("active").css("margin-left","-100%"),a.length<=0&&(a=e.find(".item").last(),a.addClass("active").css("margin-left","-200%")),t.animate({"margin-left":"100%"},function(){t.removeClass("active"),t.css("margin-left",0),a.animate({"margin-left":0},function(){i=!1})})}});var i=!1;$(".carousel .nav-bar .next").click(function(){if(!i){i=!0;var e=$(this).closest(".carousel"),t=e.find(".item.active"),a=t.next(".item");a.length<=0&&(a=e.find(".item:first-child")),a.addClass("active").css("margin-left","100%"),t.animate({"margin-left":"-100%"},function(){t.removeClass("active"),t.css("margin-left",0),a.animate({"margin-left":0},function(){i=!1})})}})}e(),$(document).on("pjax/done",function(){setTimeout(e,100)})});
!function(){function t(t,n){$(t).children().each(function(){var t=$(this);t.attr("data-group")&&t.attr("data-group")!==n?t.hide():t.show()})}$(document).on("show_content",function(n,o,c){t(".group-description",c),t(".carousel-items",c),t(".services",c)})}();
$(document).ready(function(){function o(){$(".mask .text").each(function(){function o(){a.css("width",s[0].width+"px"),a.css("min-height",s[0].height+"px")}var a=$(this),s=a.next(".image");o(),s.load(o)}),$(".mask .close.button").click(function(){var o=$(this).closest(".mask");o.hide();var a=o.find("video");a.length&&a[0].pause()}),$(".mask").css("background-color","rgba(0, 0, 0, 0.4)").css("padding-left",0).hide(),$(".mask.darker").css("background-color","rgba(0, 0, 0, 0.8)"),console.log("hided modals: ",$(".mask").length),$("[data-modal-selector]").on("click",function(o){var a=$(this),s=a.attr("data-modal-selector"),t=$(s);t.css("display","flex"),o.stopPropagation()}),console.log("modals prepared.")}o(),$(document).on("pjax/done",function(){setTimeout(o,100)}),window.modals={prepare:o}});
var vmvideos=[{author:"yasudatakahiro",title:'"COPY" Official Videoclip',thumb:"http://i.vimeocdn.com/video/291709093_200x150.jpg",url:"http://vimeo.com/17902560"},{author:"Ground's Oranges",title:"Prefunerale Luigi Virgillito",thumb:"http://i.vimeocdn.com/video/447164694_200x150.jpg",url:"http://vimeo.com/73141804"},{author:"Mr. Kaplin",title:'Official Release: Toob "Wavaphon" Music Video',thumb:"http://i.vimeocdn.com/video/281268872_200x150.jpg",url:"http://vimeo.com/40648169"},{author:"BKWLD",title:"BKWLD in a matter of seconds",thumb:"http://i.vimeocdn.com/video/245832886_200x150.jpg",url:"http://vimeo.com/24933302"},{author:"dunun",title:"amalgamation",thumb:"http://i.vimeocdn.com/video/218886754_200x150.jpg",url:"http://vimeo.com/32351411"},{author:"Nexus",title:"Avocado Go Green",thumb:"http://i.vimeocdn.com/video/454456291_200x150.jpg",url:"http://vimeo.com/78830727"},{author:"Trunk Animation",title:'Major Lazer- "Keep It Goin Louder"',thumb:"http://i.vimeocdn.com/video/310360546_200x150.jpg",url:"http://vimeo.com/6793510"},{author:"Chris Harmon",title:"Oil'd",thumb:"http://i.vimeocdn.com/video/146641111_200x150.jpg",url:"http://vimeo.com/22655744"},{author:"Bet She'an Team",title:"Bet She'an",thumb:"http://i.vimeocdn.com/video/451945429_200x150.jpg",url:"http://vimeo.com/76920679"},{author:"Louis Paquet",title:"Forrest Gump by Wes Anderson",thumb:"http://i.vimeocdn.com/video/472143478_200x150.jpg",url:"http://vimeo.com/92419083"},{author:"2veinte",title:"For Agile Films by 2veinte",thumb:"http://i.vimeocdn.com/video/472472892_200x150.jpg",url:"http://vimeo.com/92679978"},{author:"CypherAudio",title:"Hershey's - 'Happiness Is...'",thumb:"http://i.vimeocdn.com/video/27938399_200x150.jpg",url:"http://vimeo.com/6909738"},{author:"beeple",title:"instrumental video nine",thumb:"http://i.vimeocdn.com/video/453513252_200x150.jpg",url:"http://vimeo.com/9800754"},{author:"Jean Barnezet",title:"Ed bangers Vol 2",thumb:"http://i.vimeocdn.com/video/53821679_200x150.jpg",url:"http://vimeo.com/935862"},{author:"Moop Jaw",title:"Qua - Goodmorning Sun music video (Directed by Antuong Nguyen)",thumb:"http://i.vimeocdn.com/video/17354912_200x150.jpg",url:"http://vimeo.com/5375940"},{author:"Takuya Hosogane",title:"Takuya Hosogane MotionReel 2011",thumb:"http://i.vimeocdn.com/video/135868475_200x150.jpg",url:"http://vimeo.com/21151968"},{author:"James Curran",title:"The Adventures of Tintin",thumb:"http://i.vimeocdn.com/video/204191730_200x150.jpg",url:"http://vimeo.com/30402976"},{author:"johan rijpma",title:"Tape Generations",thumb:"http://i.vimeocdn.com/video/192629425_200x150.jpg",url:"http://vimeo.com/28826269"},{author:"Royale",title:"Oreo Wonderfilled",thumb:"http://i.vimeocdn.com/video/437477845_200x150.jpg",url:"http://vimeo.com/66116612"},{author:"Tomas Nilsson",title:"Slagsmålsklubben - Sponsored by destiny",thumb:"http://i.vimeocdn.com/video/3773075_200x150.jpg",url:"http://vimeo.com/3514904"},{author:"Mothlight Creative",title:"Motion Design Reel",thumb:"http://i.vimeocdn.com/video/21020441_200x150.jpg",url:"http://vimeo.com/2354896"},{author:"Jr.canest",title:"Resonance: The Interpreter's House",thumb:"http://i.vimeocdn.com/video/165696168_200x150.jpg",url:"http://vimeo.com/25181651"},{author:"Hardy Seiler",title:"Where things come from",thumb:"http://i.vimeocdn.com/video/279551535_200x150.jpg",url:"http://vimeo.com/40459347"},{author:"rich nosworthy",title:"Unified",thumb:"http://i.vimeocdn.com/video/440983567_200x150.jpg",url:"http://vimeo.com/68596504"},{author:"Onesize",title:"FITC Amsterdam 2013 titles.",thumb:"http://i.vimeocdn.com/video/416466859_200x150.jpg",url:"http://vimeo.com/59892998"},{author:"THE CREATIVE INFLUENCE",title:"Jessica Walsh & Stefan Sagmeister _ The Creative Influence: Ep. 2",thumb:"http://i.vimeocdn.com/video/458287788_200x150.jpg",url:"http://vimeo.com/58575990"},{author:"Ian Albinson",title:"A Brief History of Title Design",thumb:"http://i.vimeocdn.com/video/317160247_200x150.jpg",url:"http://vimeo.com/20759580"},{author:"Fraser Davidson",title:"Bill Maher - Irritable Bowl Syndrome",thumb:"http://i.vimeocdn.com/video/439126226_200x150.jpg",url:"http://vimeo.com/35003246"},{author:"rob kent",title:"casino royale intro 720p",thumb:"http://i.vimeocdn.com/video/430824864_200x150.jpg",url:"http://vimeo.com/61960054"},{author:"Danil Krivoruchko",title:"Intel Fashion show | Intro loop",thumb:"http://i.vimeocdn.com/video/168467700_200x150.jpg",url:"http://vimeo.com/25573104"},{author:"Mr OIZO / Q.DUPIEUX",title:"OIZO MOUSTACHE SPECIAL ANNOUNCEMENT",thumb:"http://i.vimeocdn.com/video/109481237_200x150.jpg",url:"http://vimeo.com/17583401"},{author:"Animography",title:"Isotype - Animated Typeface",thumb:"http://i.vimeocdn.com/video/445957950_200x150.jpg",url:"http://vimeo.com/71962920"},{author:"Yannick Jacquet (Legoman)",title:"Mécaniques Discursives [work in progress] 2",thumb:"http://i.vimeocdn.com/video/268346538_200x150.jpg",url:"http://vimeo.com/38945809"},{author:"Tektosag Records",title:"Blawan - Fram (Video Edit)",thumb:"http://i.vimeocdn.com/video/75218953_200x150.jpg",url:"http://vimeo.com/13177771"},{author:"Fabricio Lima",title:"30 things at 30",thumb:"http://i.vimeocdn.com/video/432436026_200x150.jpg",url:"http://vimeo.com/62509176"},{author:"SoLab",title:"Hermès x Man on the Move by Romain Laurent",thumb:"http://i.vimeocdn.com/video/472009665_200x150.jpg",url:"http://vimeo.com/91405458"},{author:"Buck",title:"Umbro Blackout",thumb:"http://i.vimeocdn.com/video/174298706_200x150.jpg",url:"http://vimeo.com/26397024"},{author:"Neal Coghlan",title:"BIRDMASK Visuals",thumb:"http://i.vimeocdn.com/video/348590012_200x150.jpg",url:"http://vimeo.com/50071433"},{author:"Machine Molle",title:"ROYKSOPP / Remind Me / Music Video (2002)",thumb:"http://i.vimeocdn.com/video/204044099_200x150.jpg",url:"http://vimeo.com/30372022"},{author:"POCKO",title:"BEN PEARCE - TED Metaphors Excerpt 1",thumb:"http://i.vimeocdn.com/video/437584087_200x150.jpg",url:"http://vimeo.com/66253104"},{author:"finally.",title:"Understand Music",thumb:"http://i.vimeocdn.com/video/380549046_200x150.jpg",url:"http://vimeo.com/54763818"},{author:"dlew",title:"Flying Lotus - Tiny Tortures",thumb:"http://i.vimeocdn.com/video/377516992_200x150.jpg",url:"http://vimeo.com/54585743"},{author:"Berkanism",title:"NATURAL FIGHT (Find Perfect Shape)",thumb:"http://i.vimeocdn.com/video/286755621_200x150.jpg",url:"http://vimeo.com/41405220"},{author:"Sunday Paper",title:"Light",thumb:"http://i.vimeocdn.com/video/191510392_200x150.jpg",url:"http://vimeo.com/28685926"},{author:"weareflink",title:"Volkswagen - People's Car Project - Parking",thumb:"http://i.vimeocdn.com/video/196212132_200x150.jpg",url:"http://vimeo.com/29308144"},{author:"Giant Ant",title:"WIRED // What's Inside: Play-Doh (Director's Cut)",thumb:"http://i.vimeocdn.com/video/445546104_200x150.jpg",url:"http://vimeo.com/71841985"},{author:"Golden Wolf",title:"Adidas - #ALLINFORMURRAY",thumb:"http://i.vimeocdn.com/video/445698928_200x150.jpg",url:"http://vimeo.com/71976695"},{author:"A N F",title:"Egyptrixx - Start from the Beginning",thumb:"http://i.vimeocdn.com/video/259770961_200x150.jpg",url:"http://vimeo.com/16660444"},{author:"Plenty",title:"HBO Latinoamerica - Reel",thumb:"http://i.vimeocdn.com/video/450870325_200x150.jpg",url:"http://vimeo.com/76084225"},{author:"malika favre",title:"TOTO Perfect Day",thumb:"http://i.vimeocdn.com/video/437778164_200x150.jpg",url:"http://vimeo.com/66386720"}],additionInfo=[[{url:"/bower/bridgeplus_ui/public/images/CORPORATE_PG.png",width:460,height:102,x:600,y:120},{url:"/bower/bridgeplus_ui/public/images/CORPORATE.png",width:123,height:41,x:739,y:220}],[{url:"/bower/bridgeplus_ui/public/images/MENTOR_PG.png",width:245,height:183,x:677.5,y:110},{url:"/bower/bridgeplus_ui/public/images/MENTOR.png",width:123,height:41,x:739,y:290}],[{url:"/bower/bridgeplus_ui/public/images/STUDENT_PG.png",width:446,height:207,x:620,y:200},{url:"/bower/bridgeplus_ui/public/images/STUDENT.png",width:123,height:41,x:739,y:360}]];
$(function(){function t(){c.currentW=$(window).width(),c.currentH=$(window).height(),a=.5*c.currentW,s=.5*c.currentH}function e(){c.currentH/780}function o(t){var e=[];return t.classList&&"function"==typeof t.classList.forEach?t.classList.forEach(function(t){e.push(t)}):e=(t.getAttribute("class")||"").split(" "),e}function n(){var t=Math.max(document.documentElement.clientHeight,window.innerHeight||0);console.log(t);var e=$(".to-top").outerHeight();console.log(e);var o=$("#footer").outerHeight();console.log(o);var n=t-e-o;console.log(n),$("#index-footer").parent().height(n)}function i(){$(".owl-carousel").owlCarousel({items:1,lazyLoad:!0,loop:!0,autoplayTimeout:8e3,autoplayHoverPause:!0,nav:!0,navRewind:!0,smartSpeed:500,navText:['<i class="" style="font-family: cursive;">&lt;</i>','<i class="" style="font-family: cursive;">&gt;</i>'],autoHeight:!0})}function r(){n(),setTimeout(i,500)}var a,s,c={currentW:0,currentH:0};!function(){function t(){function t(){var e=i.clone().attr({r:r,opacity:0,fill:"none","stroke-width":1});return e.attr({opacity:1}).animate({r:r+10,"stroke-width":41,stroke:"#FFF"},1e3,">",function(){}),r+=40,a+150>r?void setTimeout(t,50):($("#logo").addClass("active"),$(".logo_top").addClass("active"),void setTimeout(function(){BridgeWheel.start()},500))}var e=this.intro=new Raphael("bridge_plus_intro",c.currentW,c.currentH),n=e.path("M 0,"+c.currentH+" L 0,"+c.currentH).attr({fill:"#E71E30",stroke:"#E71E30","stroke-width":4}),i=e.circle(a,s,0).attr({fill:"#111",stroke:"#111"});n.animate({path:"M 0,"+c.currentH+" L "+a+","+s},1e3,">",function(){o.arcouno(),n.animate({path:"M "+a+","+s+"L "+a+","+s},1e3,">",function(){}),i.animate({r:"72"},1800,">",function(){}),setTimeout(t,1100)});var r=0}function e(){var t=o.intro.path(o.arc([a,s],120,120,320)).attr({stroke:"#111","stroke-width":1});t.attr({transform:"r0,"+a+","+s}).animate({transform:"r360,"+a+","+s},4e3)}var o=window.INTRO={intro:null,init:t,arcouno:e,arc:function(t,e,o,n){for(var i=o,r=this.toCoords(t,e,i),a="M "+r[0]+" "+r[1];n>=i;)r=this.toCoords(t,e,i),a+=" L "+r[0]+" "+r[1],i++;return a},toCoords:function(t,e,o){var n=o/180*Math.PI,i=t[0]+Math.cos(n)*e,r=t[1]+Math.sin(n)*e;return[i,r]}}}(),function(){var t=window.BridgeWheel={first:!0,sourceArr:[],imgAll:[],init:function(){INTRO.init()},evHandlers:function(){},start:function(){t.resize();var e=new Raphael("bridge_plus_wheel",2e3,1e3);e.wheel(440,vmvideos.slice(32,51),2,vmvideos,[],additionInfo)},resize:e}}(),$(window).on("resize",function(){t(),BridgeWheel.resize()});var u=$(".wheel_text"),l=$(".main_page_wheel"),h=$(".main_page_bottom"),f=$(".main_page_right");$(document).on("wheel/show",function(){$(".svg_group").hover(function(){$(document).trigger("show_group_desc",o(this))},function(){$(document).trigger("hide_group_desc",o(this))}).on("click",function(){var t,e=o(this);e.indexOf("svg_group_0")>=0&&(t="/portal/zh/student-portal"),e.indexOf("svg_group_1")>=0&&(t="/portal/zh/mentor-portal"),e.indexOf("svg_group_2")>=0&&(t="/portal/zh/hr-portal"),$(document).trigger("navigate",t)})}).on("click",".logo_right",function(){$(document).trigger("show_right")}).on("show_group_desc",function(t,e,o){u.hide().each(function(){$(this).hasClass(o)&&$(this).show()})}).on("hide_group_desc",function(t,e,o){u.each(function(){$(this).hasClass(o)&&$(this).hide()})}).on("show_wheel",function(){l.animate({top:0,left:0},500),h.animate({top:"100%",left:0},500),f.animate({left:"100%"},500)}).on("show_content",function(){l.animate({top:"-100%",left:0},500),h.animate({top:0,left:0},500),f.animate({left:"100%"},500),r()}).on("show_right",function(){l.animate({left:"-100%"},500),h.animate({left:"-100%"},500),f.animate({left:0},500)}).on("pjax/done",document,function(){$(document).trigger("show_content",null),"function"==typeof i&&setTimeout(i,100),"function"==typeof modals.prepare&&setTimeout(modals.prepare,100)}),t(),BridgeWheel.init(),BridgeWheel.evHandlers(),$(document).on("resize",r),0===location.pathname.indexOf("/portal/")&&$(document).trigger("show_content")});
$(document).ready(function(){var e=!1;$(".menu-button").click(function(){e?$(".menu").removeClass("active"):$(".menu").addClass("active"),e=!e}),$(document).on("show_right",function(){$("#pic-entrance").addClass("active")}).on("show_wheel",function(){$("#pic-entrance").removeClass("active")}).on("click",".left-arrow",function(){$(document).trigger("show_wheel")})});
!function(){function t(t,n,e,o,i){if(d.indexOf(t)>=0&&d.indexOf(n)>=0)return o;var r=s.indexOf(t),a=s.indexOf(n);return 0>r||0>a||r===a?e:a>r?o:i}function n(t){t.css({position:"absolute",left:"100%",right:"-100%"})}function e(t){t.animate({left:"-100%",right:"100%"},"slow",function(){t.remove()})}function o(t){return t.animate({left:"0",right:"0"},"slow",function(){t.css("position","relative")}).promise()}function i(t){t.css({position:"absolute",left:"-100%",right:"100%"})}function r(t){t.animate({left:"100%",right:"-100%"},"slow",function(){t.remove()})}function a(t,n){var e=document.createElement("div");e.innerHTML=t.innerHTML;var o=$(e),i=$(t);o.css({position:"absolute",left:"0",right:"0"}),o.insertBefore(i),n&&n(o,i)}function c(){$("#footer").css("position","fixed")}function u(){$("#footer").css("position","relative")}function l(t,i){c(),n(t),e(i),o(t).done(u)}function f(t,n){c(),i(t),r(n),o(t).done(u)}var s=["/portal/zh/about-us","/portal/zh/team","/portal/zh/video","/portal/zh/contact-us","/portal/zh/join-us"],d=["/portal/zh/student-portal","/portal/zh/mentor-portal","/portal/zh/hr-portal"];window.animationDirector={returnToOriginalPos:o,cloneOldSlide:a,getAnimation:t,slideToLeft:l,slideToRight:f}}(),$(function(){function t(t){p.push(t),p.length>5&&p.shift()}function n(t){m.push(t),m.length>5&&m.shift()}function e(t){g.push(t),g.length>5&&g.shift()}function o(t,n,e){r(n,e,function(){s.classList.add("hide"),setTimeout(function(){s.innerHTML=t,s.classList.remove("hide")},100)})}function i(){s=s||document.querySelector(".body"),d=d||document.querySelector("title")}function r(t,n,e){$(document).trigger("pjax/refresh"),i(),e(),c(n,t),$(document).trigger("pjax/done"),console.log("pjax/done")}function a(t,n,e){r(n,e,function(){animationDirector.cloneOldSlide(s,function(n,e){s.innerHTML=t,animationDirector.slideToLeft(e,n)})})}function c(t,n){Object.keys(t).forEach(function(n){s.setAttribute("data-"+n,t[n])}),d&&(d.innerHTML=n)}function u(t,n,e){r(n,e,function(){animationDirector.cloneOldSlide(s,function(n,e){s.innerHTML=t,v(e,n)})})}function l(t){for(var n={},e=t.length-1;e>=0;e--){var o=t[e];0==o.name.indexOf("data-")&&(n[o.name.slice(5)]=o.value)}return n}function f(i,r,a,c){$(document).trigger("pjax/start"),$.get(i,function(u){s=s||document.querySelector(".body"),d=d||document.querySelector("title"),h.innerHTML=u,a&&(history.pushState(i,"",i),t(s.innerHTML),n(l(s.attributes)),d&&e(d.innerHTML));var f=h.querySelector(".body"),p=h.querySelector("title");(c=c||o)(f.innerHTML,p&&p.innerHTML,l(f.attributes),r)})}var s,d,h=document.createElement("DIV"),p=[],m=[],g=[];document.addEventListener("click",function(t){if("A"!==t.target.nodeName)return!0;var n=location,e=t.target,i=e.href?e.href.toLowerCase():"";return"false"!==e.getAttribute("use-pjax")&&i.length&&"#"!=i.charAt(0)&&0!=i.indexOf("mailto:")&&0!=i.indexOf("javascript:")?(t.preventDefault(),t.stopPropagation(),"/"===e.pathname?($(document).trigger("show_wheel"),history.pushState("/","","/"),!1):void f(i,e,!0,animationDirector.getAnimation(n.pathname,e.pathname,o,a,u))):!0},!1),window.addEventListener("popstate",function(){return p&&p.length?void o(p.pop(),g.pop(),m.pop()):void f(location.href)}),$(document).on("navigate",function(t,n){f(n,null,!0)});var v=animationDirector.slideToRight});
Raphael.fn.group=function(t,a){var r=document.createElementNS("http://www.w3.org/2000/svg","g");if(r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)"),r.classList)r.classList.add("svg_group"),r.classList.add(a);else{var n=(r.getAttribute("class")||"").split(" "),e=!1;-1==n.indexOf("svg_group")&&(n.push("svg_group"),e=!0),-1==n.indexOf(a)&&(n.push(a),e=!0),e&&r.setAttribute("class",n.join(" "))}if(t)for(var o=0,i=t.length;i>o;o++)r.appendChild(t[o].node);return this.canvas.appendChild(r),r},Raphael.fn.wheel=function(t,a,r,n,e,o){function i(){var t=g.image(this.src,690,y,b,_).attr({opacity:0});t.node.id=this.id,v.push(t),++m==d&&u()}function c(){var t=g.image("http://vlog.it/img/placeholder.jpg",690,y,b,_).attr({opacity:0});t.node.id=this.id,v.push(t),++m==d&&u()}function s(t,a){var r="M,800,500,L,862.3735072453278,206.5557197798583,A,300,300,0,0,0,737.6264927546722,206.5557197798583,z",n="M,800,500,L,844.8707740637095,274.419385507257,A,230,230,0,0,0,755.1292259362905,274.419385507257,z",e="M,800,500,L,835.6033494330103,344.0115340509082,A,160,160,0,0,0,764.3966505669897,344.0115340509082,z",o=[g.path(e).attr({stroke:"none"}),g.path(n).attr({stroke:"none"}),g.path(r).attr({stroke:"none"})],i=document.createElementNS(E,"clipPath");i.setAttribute("id","clip_ring"+t),i.appendChild(o[t].node),g.canvas.appendChild(i),a.forEach(function(a,r){var n=w*r;a.rotate(n,800,500),a.node.setAttribute("clip-path","url(#clip_ring"+t+")"),a.node.style.cursor="pointer",a.attr({opacity:0}),h(a,w,r)})}function h(t,a,r){t.attr({transform:"r"+a*r+",800,500t0,140"})}function u(){var t=[];o[o.length-(r+1)].forEach(function(a){var r=g.image(a.url,a.x,a.y,a.width,a.height).attr({opacity:1});r.node.setAttribute("class","svg_group_addtion"),t.push(r)});var i;switch(r){case 2:i=300;break;case 1:i=230;break;case 0:i=160}var c=(i-100)/i;c=(100*c|0)/100;var h=g.circle(800,500,i).attr({fill:"#000",stroke:"none"});h.node.style.transform="scale("+c+","+c+")",g.group([t[0]].concat(v,h,t[1]),"svg_group_"+r),s(r,v),e.push(v),2==r?g.wheel(340,n.slice(15,31),1,a,e,o):1==r?g.wheel(240,n.slice(0,14),0,a,e,o):(f(),$(document).trigger("wheel/show"))}function f(){var t=360/14,a=e[2],r=a.length;a.forEach(function(n,e){e==r-1?n.attr({opacity:1}).animate({transform:"r"+t*e+",800,500t0,0"},1e3,"<>",function(){l(),a.forEach(function(a,r){a.animate({transform:"r"+(360+t*r)+",800,500"},3e4)})}):n.attr({opacity:1}).animate({transform:"r"+t*e+",800,500t0,0"},1e3,"<>",function(){})})}function l(){var t=22.5,a=e[1],r=a.length;a.forEach(function(n,e){e==r-1?n.attr({opacity:1}).animate({transform:"r"+t*e+",800,500t0,0"},1e3,"<>",function(){p(),a.forEach(function(a,r){a.animate({transform:"r"+(-360+t*r)+",800,500"},3e4)})}):n.attr({opacity:1}).animate({transform:"r"+t*e+",800,500t0,0"},1e3,"<>",function(){})})}function p(){var t=e[0],a=t.length,r=20;t.forEach(function(n,e){e==a-1?n.attr({opacity:1}).animate({transform:"r"+r*e+",800,500t0,0"},1e3,"<",function(){t.forEach(function(t,a){t.animate({transform:"r"+(360+r*a)+",800,500"},3e4)})}):n.attr({opacity:1}).animate({transform:"r"+r*e+",800,500t0,0"},1e3,"<",function(){})})}var g=this,d=a.length,m=0,v=[],w=360/d,y=340-70*r,E="http://www.w3.org/2000/svg",b=210,_=100;a.forEach(function(t){var a=new Image;a.onload=i,a.onerror=c,a.src=t.thumb,a.id=t.url,a.title=t.title,a.author=t.author})};